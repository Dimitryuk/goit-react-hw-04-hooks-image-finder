(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{30:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(8),r=n.n(o),i=(n(30),n(4)),s=n(0);function l(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o),r("")},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.target.value.toLowerCase())}})]})})}var u=n(11),j=n(20),d=n.n(j);function b(e,t){return d.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23096925-d42719920a727f8342c46883c","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}function h(e){var t=e.onLoadMoreClick;return Object(s.jsx)("div",{className:"more",children:Object(s.jsx)("button",{type:"submit",className:"Button",onClick:t,children:"Load More"})})}function m(e){var t=e.webformatURL,n=e.onOpen,c=e.largeImageURL;return Object(s.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(c)},children:Object(s.jsx)("img",{src:t,alt:"nice",className:"ImageGalleryItem-image"})})}var O=n(21),f=n.n(O);function p(){return Object(s.jsx)(f.a,{className:"loader",type:"Puff",color:"#00BFFF",height:100,width:100,timeout:300})}var g=n(22),v=n(23),x=n(25),y=n(24),w=document.querySelector("#modal-root"),S=function(e){Object(x.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(g.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(s.jsx)("div",{className:"Overlay",onClick:this.handleBackdropClick,children:Object(s.jsx)("div",{className:"Modal",children:this.props.children})}),w)}}]),n}(c.Component);var k=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},N="idle",C="pending",E="rejected",L="resolved";function I(e){var t=e.inputValue,n=Object(c.useState)(1),a=Object(i.a)(n,2),o=a[0],r=a[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),d=j[0],O=j[1],f=Object(c.useState)(""),g=Object(i.a)(f,2),v=g[0],x=g[1],y=Object(c.useState)(!1),w=Object(i.a)(y,2),I=w[0],F=w[1],R=Object(c.useState)(N),U=Object(i.a)(R,2),D=U[0],M=U[1];Object(c.useEffect)((function(){t&&(M(C),r(1),b(t,o).then((function(e){console.log(e),0===e.length&&M(E),O(e)})).then(M(L)).catch((function(e){M(D.REJECTED)})))}),[t]),Object(c.useEffect)((function(){1!==o&&b(t,o).then((function(e){if(0===e.length)return M(E);O([].concat(Object(u.a)(d),Object(u.a)(e)))})).then(M(L)).then((function(){k()})).catch((function(e){return M(E)}))}),[t,o]);var B=function(e){x(e),F(!0)};return D===N?Object(s.jsx)("div",{className:"startPage",children:"Enter Something"}):D===C?Object(s.jsx)(p,{}):D===E?Object(s.jsx)("div",{className:"info",children:Object(s.jsx)("b",{children:"An Error occurred. Try again."})}):D===L?Object(s.jsxs)("div",{children:[Object(s.jsx)("ul",{className:"ImageGallery",children:d.map((function(e){return Object(s.jsx)(m,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onOpen:B},e.id)}))}),I&&Object(s.jsxs)(S,{className:"modalwdw",onClose:function(){F(!I)},children:[Object(s.jsx)("img",{src:v,alt:"modal-img"}),Object(s.jsx)(p,{})]}),Object(s.jsx)(h,{onLoadMoreClick:function(){r((function(e){return e+1}))}})]}):void 0}var F=function(e){var t=e.children;return Object(s.jsx)("div",{children:t})};function R(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(F,{children:[Object(s.jsx)(l,{onSubmit:function(e){a(e)}}),Object(s.jsx)(I,{inputValue:n})]})})}r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.8bc92821.chunk.js.map
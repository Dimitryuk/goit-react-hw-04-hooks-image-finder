{"version":3,"sources":["SearchBar/SearchBarHooks.js","Services/ImageFinderAPI.js","Button/Button.jsx","ImageGalleryItem/ImageGalleryItem.jsx","Loader/Loader.jsx","ModalWindow/ModalWindow.jsx","scroll/scroll.jsx","ImageGallery/ImageGalleryHooks.js","Container/Container.jsx","App.js","index.js"],"names":["Searchbar","onSubmit","useState","searchValue","setSearchValue","className","evt","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","fetchPictures","inputValue","page","axios","get","then","r","data","hits","Button","onLoadMoreClick","onClick","ImageGalleryItem","webformatURL","onOpen","largeImageURL","src","alt","AppLoader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","children","Component","scrollToBottom","scrollTo","top","documentElement","scrollHeight","behavior","Status","ImageGallery","setPage","pictures","setPictures","largeUrl","setlargeUrl","showModal","setShowModal","status","setStatus","useEffect","fetchedPictures","console","log","length","catch","REJECTED","loadModalPicture","url","map","picture","id","prevPage","Container","App","setInputValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"uPAEe,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAUA,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaJ,SAPZ,SAAAK,GACnBA,EAAIC,iBACJN,EAASE,GACTC,EAAe,KAIb,UACE,wBAAQI,KAAK,SAASH,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVG,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOT,EACPU,SAvBe,SAAAP,GACrBF,EAAeE,EAAIQ,OAAOF,MAAMG,uB,6BCD7B,SAASC,EAAcC,EAAYC,GACxC,OAAOC,IACJC,IADI,UAFO,2BAEP,cAEaH,EAFb,iBAEgCC,EAFhC,gBAHQ,qCAGR,yDAIJG,MAAK,SAAAC,GAAC,OAAIA,EAAEC,KAAKC,QCRP,SAASC,EAAT,GAAsC,IAApBC,EAAmB,EAAnBA,gBAC/B,OACE,qBAAKrB,UAAU,OAAf,SACE,wBAAQG,KAAK,SAASH,UAAU,SAASsB,QAASD,EAAlD,yBCHS,SAASE,EAAT,GAIX,IAHFC,EAGC,EAHDA,aACAC,EAEC,EAFDA,OACAC,EACC,EADDA,cAEA,OACE,oBAAI1B,UAAU,mBAAmBsB,QAAS,kBAAMG,EAAOC,IAAvD,SACE,qBAAKC,IAAKH,EAAcI,IAAI,OAAO5B,UAAU,6B,qBCPpC,SAAS6B,IAGtB,OACE,cAAC,IAAD,CACE7B,UAAU,SACVG,KAAK,OACL2B,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,M,oCCPTC,EAAYC,SAASC,cAAc,eACpBC,E,4MAQnBC,cAAgB,SAAArC,GACG,WAAbA,EAAIsC,MACN,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAAAzC,GAChBA,EAAI0C,gBAAkB1C,EAAIQ,QAC5B,EAAK+B,MAAMC,W,uDAff,WACEG,OAAOC,iBAAiB,UAAWC,KAAKR,iB,kCAE1C,WACEM,OAAOG,oBAAoB,UAAWD,KAAKR,iB,oBAc7C,WACE,OAAOU,uBACL,qBAAKhD,UAAU,UAAUsB,QAASwB,KAAKJ,oBAAvC,SACE,qBAAK1C,UAAU,QAAf,SAAwB8C,KAAKN,MAAMS,aAErCf,O,GAxB6BgB,aCEpBC,MAPf,WACEP,OAAOQ,SAAS,CACdC,IAAKlB,SAASmB,gBAAgBC,aAC9BC,SAAU,YCMRC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,EAAT,GAAuC,IAAf9C,EAAc,EAAdA,WACrC,EAAwBf,mBAAS,GAAjC,mBAAOgB,EAAP,KAAa8C,EAAb,KACA,EAAgC9D,mBAAS,IAAzC,mBAAO+D,EAAP,KAAiBC,EAAjB,KACA,EAAgChE,mBAAS,IAAzC,mBAAOiE,EAAP,KAAiBC,EAAjB,KACA,EAAkClE,oBAAS,GAA3C,mBAAOmE,EAAP,KAAkBC,EAAlB,KACA,EAA4BpE,mBAAS4D,GAArC,mBAAOS,EAAP,KAAeC,EAAf,KAEAC,qBAAU,WACHxD,IAGLuD,EAAUV,GACVE,EAAQ,GACRhD,EAAcC,EAAYC,GACvBG,MAAK,SAAAqD,GACJC,QAAQC,IAAIF,GACmB,IAA3BA,EAAgBG,QAClBL,EAAUV,GAEZI,EAAYQ,MAEbrD,KAAKmD,EAAUV,IAEfgB,OAAM,SAAAxE,GACLkE,EAAUD,EAAOQ,gBAEpB,CAAC9D,IAEJwD,qBAAU,WACK,IAATvD,IAGJsD,EAAUV,GACV9C,EAAcC,EAAYC,GACvBG,MAAK,SAAAqD,GACJ,GAA+B,IAA3BA,EAAgBG,OAClB,OAAOL,EAAUV,GAEnBI,EAAY,GAAD,mBAAKD,GAAL,YAAkBS,QAE9BrD,KAAKmD,EAAUV,IACfzC,MAAK,WACJmC,OAEDsB,OAAM,SAAAxE,GAAG,OAAIkE,EAAUV,SACzB,CAAC5C,IAEJ,IAQM8D,EAAmB,SAAAC,GACvBb,EAAYa,GACZX,GAAa,IAGf,OAAIC,IAAWT,EACN,qBAAKzD,UAAU,YAAf,6BAELkE,IAAWT,EACN,cAAC,EAAD,IAELS,IAAWT,EAEX,qBAAKzD,UAAU,OAAf,SACE,gEAIFkE,IAAWT,EAEX,gCACE,oBAAIzD,UAAU,eAAd,SACG4D,EAASiB,KAAI,SAAAC,GAAO,OACnB,cAACvD,EAAD,CAEEC,aAAcsD,EAAQtD,aACtBE,cAAeoD,EAAQpD,cACvBD,OAAQkD,GAHHG,EAAQC,SAOlBf,GACC,eAAC,EAAD,CAAOhE,UAAU,WAAWyC,QApChB,WAClBwB,GAAcD,IAmCR,UACE,qBAAKrC,IAAKmC,EAAUlC,IAAI,cACxB,cAAC,EAAD,OAGJ,cAACR,EAAD,CAAQC,gBA7CU,WACtBsC,GAAQ,SAAAqB,GAAQ,OAAIA,EAAW,gBAyBjC,ECvFF,IAEeC,EAFG,SAAC,GAAD,IAAGhC,EAAH,EAAGA,SAAH,OAAkB,8BAAMA,KC8B3B,SAASiC,IACtB,MAAoCrF,mBAAS,IAA7C,mBAAOe,EAAP,KAAmBuE,EAAnB,KAKA,OACE,qBAAKnF,UAAU,MAAf,SACE,eAAC,EAAD,WACE,cAACL,EAAD,CAAWC,SANjB,SAA2BgB,GACzBuE,EAAcvE,MAMV,cAAC8C,EAAD,CAAc9C,WAAYA,SCrClCwE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACJ,EAAD,MAEF/C,SAASoD,eAAe,W","file":"static/js/main.3cf02692.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const getSearchValue = evt => {\r\n    setSearchValue(evt.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    onSubmit(searchValue);\r\n    setSearchValue('');\r\n  };\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={searchValue}\r\n          onChange={getSearchValue}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst myApiKey = '23096925-d42719920a727f8342c46883c';\r\nconst baseApi = 'https://pixabay.com/api/';\r\nexport function fetchPictures(inputValue, page) {\r\n  return axios\r\n    .get(\r\n      `${baseApi}?q=${inputValue}&page=${page}&key=${myApiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(r => r.data.hits);\r\n}\r\n","import PropTypes from 'prop-types';\r\nexport default function Button({ onLoadMoreClick }) {\r\n  return (\r\n    <div className=\"more\">\r\n      <button type=\"submit\" className=\"Button\" onClick={onLoadMoreClick}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMoreClick: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  onOpen,\r\n  largeImageURL,\r\n}) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={() => onOpen(largeImageURL)}>\r\n      <img src={webformatURL} alt=\"nice\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  onOpen: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\nexport default function AppLoader() {\r\n  //other logic\r\n\r\n  return (\r\n    <Loader\r\n      className=\"loader\"\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={300} //3 secs\r\n    />\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = evt => {\r\n    if (evt.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = evt => {\r\n    if (evt.currentTarget === evt.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n};\r\n","function scrollToBottom() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nexport default scrollToBottom;","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { fetchPictures } from '../Services/ImageFinderAPI';\r\nimport Button from '../Button/Button';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader.jsx';\r\nimport Modal from '../ModalWindow/ModalWindow';\r\nimport scrollToBottom from '../scroll/scroll';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  REJECTED: 'rejected',\r\n  RESOLVED: 'resolved',\r\n};\r\n\r\nexport default function ImageGallery({ inputValue }) {\r\n  const [page, setPage] = useState(1);\r\n  const [pictures, setPictures] = useState([]);\r\n  const [largeUrl, setlargeUrl] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    if (!inputValue) {\r\n      return;\r\n    }\r\n    setStatus(Status.PENDING);\r\n    setPage(1);\r\n    fetchPictures(inputValue, page)\r\n      .then(fetchedPictures => {\r\n        console.log(fetchedPictures);\r\n        if (fetchedPictures.length === 0) {\r\n          setStatus(Status.REJECTED);\r\n        }\r\n        setPictures(fetchedPictures);\r\n      })\r\n      .then(setStatus(Status.RESOLVED))\r\n\r\n      .catch(evt => {\r\n        setStatus(status.REJECTED);\r\n      });\r\n  }, [inputValue]);\r\n\r\n  useEffect(() => {\r\n    if (page === 1) {\r\n      return;\r\n    }\r\n    setStatus(Status.PENDING);\r\n    fetchPictures(inputValue, page)\r\n      .then(fetchedPictures => {\r\n        if (fetchedPictures.length === 0) {\r\n          return setStatus(Status.REJECTED);\r\n        }\r\n        setPictures([...pictures, ...fetchedPictures]);\r\n      })\r\n      .then(setStatus(Status.RESOLVED))\r\n      .then(() => {\r\n        scrollToBottom();\r\n      })\r\n      .catch(evt => setStatus(Status.REJECTED));\r\n  }, [page]);\r\n\r\n  const onLoadMoreClick = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const loadModalPicture = url => {\r\n    setlargeUrl(url);\r\n    setShowModal(true);\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return <div className=\"startPage\">Enter Something</div>;\r\n  }\r\n  if (status === Status.PENDING) {\r\n    return <Loader />;\r\n  }\r\n  if (status === Status.REJECTED) {\r\n    return (\r\n      <div className=\"info\">\r\n        <b>An Error occurred. Try again.</b>\r\n      </div>\r\n    );\r\n  }\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <div>\r\n        <ul className=\"ImageGallery\">\r\n          {pictures.map(picture => (\r\n            <ImageGalleryItem\r\n              key={picture.id}\r\n              webformatURL={picture.webformatURL}\r\n              largeImageURL={picture.largeImageURL}\r\n              onOpen={loadModalPicture}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {showModal && (\r\n          <Modal className=\"modalwdw\" onClose={toggleModal}>\r\n            <img src={largeUrl} alt=\"modal-img\" />\r\n            <Loader />\r\n          </Modal>\r\n        )}\r\n        <Button onLoadMoreClick={onLoadMoreClick} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst Container = ({ children }) => <div>{children}</div>;\r\n\r\nexport default Container;\r\n","// import { Component } from 'react';\r\n// import Searchbar from './SearchBar/SearchBarHooks';\r\n// import ImageGallery from './ImageGallery/ImageGallery.jsx';\r\n// import Container from './Container/Container.jsx';\r\n\r\n// export default class App extends Component {\r\n//   state = {\r\n//     loading: false,\r\n//     inputValue: '',\r\n//   };\r\n\r\n//   handleFormSubmit = inputValue => {\r\n//     this.setState({ inputValue });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <div className=\"App\">\r\n//         <Container>\r\n//           <Searchbar onSubmit={this.handleFormSubmit} />\r\n//           <ImageGallery inputValue={this.state.inputValue} />\r\n//         </Container>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nimport { useState } from 'react';\r\nimport Searchbar from './SearchBar/SearchBarHooks';\r\nimport ImageGallery from './ImageGallery/ImageGalleryHooks';\r\nimport Container from './Container/Container.jsx';\r\n\r\nexport default function App() {\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n  function submitSearchValue(inputValue) {\r\n    setInputValue(inputValue);\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <Container>\r\n        <Searchbar onSubmit={submitSearchValue} />\r\n        <ImageGallery inputValue={inputValue} />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}